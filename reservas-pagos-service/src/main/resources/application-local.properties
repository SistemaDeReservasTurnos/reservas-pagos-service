# ==============================================================================
# LOCAL PROFILE (spring.profiles.active=local)
# For local development environment, PostgreSQL, and local Eureka server.
# Execution Command: mvn "spring-boot:run" "-Dspring-boot.run.profiles=local"
# ==============================================================================

# === Eureka Configuration - Local ===
eureka.client.service-url.defaultZone=http://localhost:8761/eureka/
eureka.client.register-with-eureka=true
eureka.client.fetch-registry=true

# === Mercado Pago / Gateway Callback URLs - Local ===
# Uses the local server port (8084)
app.payment.success-url=http://localhost:8084/api/payments/callback/success
app.payment.pending-url=http://localhost:8084/api/payments/callback/pending
app.payment.failure-url=http://localhost:8084/api/payments/callback/failure

# === Seguridad (Localhost) ===
spring.security.oauth2.resourceserver.jwt.jwk-set-uri=http://localhost:8081/oauth2/jwks

# Cliente Feign (Self-call para client_credentials)
spring.security.oauth2.client.provider.self.token-uri=http://localhost:8081/oauth2/token
spring.security.oauth2.client.registration.reservation-service-client.provider=self
spring.security.oauth2.client.registration.reservation-service-client.client-id=pagos-service
spring.security.oauth2.client.registration.reservation-service-client.client-secret=${CLIENT_CREDENTIALS_SECRET_KEY}
spring.security.oauth2.client.registration.reservation-service-client.authorization-grant-type=client_credentials
spring.security.oauth2.client.registration.reservation-service-client.scope=INTERNAL_SERVICE

# === PostgreSQL Connection - Local ===
# Uses environment variables (e.g., from a local .env file)
spring.datasource.url=${DATABASE_URL}
spring.datasource.username=${DATABASE_USER}
spring.datasource.password=${DATABASE_PASSWORD}
spring.datasource.driver-class-name=org.postgresql.Driver

# === JPA / Hibernate Config - Local ===
# Show SQL during local development for debugging
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.format_sql=true